import{D as J,E as R,r as m,H as k,J as O,c as l,K as t,L as w,N as n,M as y,O as D,S as T,ak as h,C as M,x as W,q as G,P as B,R as K,F as Y}from"./index-BJpE3kbW.js";import{V as z,q as C,s as V}from"./VGrid-TC4GR9IH.js";import{V as Q}from"./VForm-BDj5ARjf.js";import{a as X,V as b}from"./VRow-Bj3JPlJ0.js";import{V as Z}from"./VSelect-BLHSB3B1.js";import{V as P}from"./VTextField-DOljvp2c.js";import{a as L}from"./VDialog-0qiWlNnz.js";import{_ as ee}from"./Breadcrumbs-B0GMhcaR.js";import{s as le}from"./apiService-CZ-wSF5A.js";import{V as $}from"./VSwitch-ComJYlaU.js";import{V as te}from"./VTable-GK40EMjv.js";import{V as ae}from"./VContainer-XAdDcy6U.js";import"./VInput-C-DQ_oGG.js";import"./VList-BMJQZ1LH.js";import"./VListItem-DhsFAXqS.js";import"./VMenu-Djb1N1sG.js";import"./VCheckboxBtn-BU04RKWz.js";import"./VSelectionControl-BptT3_7M.js";import"./VChip-WVtnRdx6.js";const oe={class:"ma-5"},ne={__name:"SocialForm",emits:["runItems"],setup(j,{expose:S,emit:d}){const{xs:N}=J(),p=R(),_=d,c=m(!1),r=m({}),u=m({}),f=m({}),v=m({name:"اختر موقع تواصل",icon:"mdi-web"}),I=[{name:"Facebook",icon:"mdi-facebook",color:"#1877F2",namear:"فيس بوك"},{name:"Twitter",icon:"mdi-twitter",color:"#1DA1F2",namear:"تويتر"},{name:"Instagram",icon:"mdi-instagram",color:"#E4405F",namear:"انستجرام"},{name:"Linked In",icon:"mdi-linkedin",color:"#0077B5",namear:"لينكيد ان"},{name:"YouTube",icon:"mdi-youtube",color:"#FF0000",namear:"يوتيوب"},{name:"Web Site",icon:"mdi-web",color:"#000000",namear:"موقع شخصي"},{name:"GitHub",icon:"mdi-github",color:"#333333",namear:"جيت هب"}];function U(e){u.value.en=e.name,u.value.ar=e.namear,f.value.icon=e.icon,f.value.color=e.color}const g=e=>{h.success(e,{theme:"colored",position:h.POSITION.TOP_LEFT})},F=e=>{h.error(e,{theme:"colored",position:h.POSITION.TOP_LEFT})};function x(){c.value=!1,_("runItems")}function E(e){return e.startsWith("https://")?e:"https://"+e}function A(){p.loadengApi=!0,r.value.name=JSON.stringify(u.value),r.value.icon=JSON.stringify(f.value),r.value.user_id=p.user.id,r.value.url=E(r.value.url),r.value.id?T.put(`socials/${r.value.id}`,r.value).then(e=>{_("runItems"),x(),p.loadengApi=!1,g(" تم التعديل ")}).catch(e=>{p.loadengApi=!1,F(e.response.data.message)}):T.post("socials",r.value).then(e=>{_("runItems"),x(),p.loadengApi=!1,g(" تم الحفظ ")}).catch(e=>{p.loadengApi=!1,F(e.response.data.message)})}const a=(e={})=>{Object.keys(e).length!==0&&(u.value=e.name),c.value=!0,r.value=e};return S({addNew:a}),(e,s)=>(k(),O("div",null,[l(z,{onClick:s[0]||(s[0]=o=>a()),color:"info",size:"35",icon:"mdi-plus-outline"}),l(L,{class:"text-center",modelValue:c.value,"onUpdate:modelValue":s[6]||(s[6]=o=>c.value=o),"max-width":"900",fullscreen:D(N)},{default:t(()=>[l(C,{class:"pa-5"},{actions:t(()=>[l(V,{onClick:x},{default:t(()=>[w(" اغلاق ")]),_:1}),l(V,{onClick:A},{default:t(()=>[w(" موافق ")]),_:1})]),default:t(()=>[n("h2",oe,y(r.value.id?"تعديل ":" اضافة "),1),l(Q,null,{default:t(()=>[l(X,null,{default:t(()=>[l(b,{cols:"12",md:"6"},{default:t(()=>[l(Z,{modelValue:v.value,"onUpdate:modelValue":[s[1]||(s[1]=o=>v.value=o),s[2]||(s[2]=o=>U(v.value))],items:I,"item-title":"name","prepend-icon":v.value.icon,"item-value":"icon",label:"Select Social","single-line":"","return-object":"","prepend-item":""},null,8,["modelValue","prepend-icon"])]),_:1}),l(b,{cols:"12",md:"6"},{default:t(()=>[l(P,{modelValue:u.value.ar,"onUpdate:modelValue":s[3]||(s[3]=o=>u.value.ar=o),label:"الاسم"},null,8,["modelValue"])]),_:1}),l(b,{cols:"12",md:"6"},{default:t(()=>[l(P,{modelValue:u.value.en,"onUpdate:modelValue":s[4]||(s[4]=o=>u.value.en=o),label:"name"},null,8,["modelValue"])]),_:1}),l(b,{cols:"12",md:"6"},{default:t(()=>[l(P,{modelValue:r.value.url,"onUpdate:modelValue":s[5]||(s[5]=o=>r.value.url=o),label:"URL"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"])]))}},se=n("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),ue=n("h2",{class:"sticky-header pa-4"},"تفعيل مواقع التواصل في الاقسام",-1),ie=n("hr",null,null,-1),re=n("hr",null,null,-1),de=n("hr",null,null,-1),me={style:{position:"sticky",bottom:"0px","z-index":"100",width:"100%","max-width":"600px",margin:"auto","border-radius":"7px"}},ce=n("thead",null,[n("tr",null,[n("th",{class:"text-center"},"#"),n("th",{class:"text-center"},"الاسم"),n("th",{class:"text-center"},"name"),n("th",{class:"text-center"},"URL"),n("th",{class:"text-center"},"تاريخ الانشاء"),n("th",{class:"text-center sticky-column"},". . .")])],-1),pe={class:"sticky-column"},fe={key:1,class:"text-alert"},Ae={__name:"index",setup(j){const S=M(),d=R(),N=a=>{h.success(a,{theme:"colored",position:h.POSITION.TOP_LEFT})},p=a=>{h.error(a,{theme:"colored",position:h.POSITION.TOP_LEFT})},_=m(null),c=m(!1),r=m(!1),u=m({hero:{enabled:!0},aside:{enabled:!0},about:{enabled:!0}}),f=m([]),v=m("");function I(a,e){const s={...a};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(typeof e[o]=="object"&&e[o]!==null?s[o]=I(a[o]||{},e[o]):s[o]=e[o]);return s}function U(a){c.value=!0,v.value=a}W(()=>{g()}),G(()=>d.user,a=>{a.theme.socials?u.value=I(u.value,a.theme.socials):u.value={hero:{enabled:!0},aside:{enabled:!0},about:{enabled:!0}}},{immediate:!1,deep:!1});function g(){d.loadengApi=!0,T.get("socials",f.value).then(a=>{f.value=a.data.data,d.loadengApi=!1,v.value=""}).catch(()=>{p("هناك خطا ما حاول مره اخري")})}function F(){d.user.theme.socials={...u.value},console.log("userStore.user.theme",d.user.theme),le("users-theme",{theme:d.user.theme,_method:"put"},d.user.id).then(a=>{console.log("res.data",a.data),x()})}function x(){r.value=!1}function E(){d.loadengApi=!0,T.post("socials/delete",{id:[v.value.id]}).then(()=>{g(),c.value=!1,d.loadengApi=!1,N(" تم الحذف")}).catch(a=>{p(a.response.data.message)})}const A=a=>{var e;(e=_.value)==null||e.addNew(a)};return(a,e)=>{const s=ee,o=ne;return k(),B(ae,null,{default:t(()=>[l(s),l(L,{class:"text-center",modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=i=>c.value=i),"max-width":"400",persistent:""},{default:t(()=>[l(C,{class:"pa-5"},{default:t(()=>[se,l(V,{class:"ma-1",onClick:E},{default:t(()=>[w(" موافق ")]),_:1}),l(V,{class:"ma-1",onClick:e[0]||(e[0]=i=>c.value=!1)},{default:t(()=>[w(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(C,{"max-width":"500px",class:"text-center my-5 mx-auto",subtitle:D(S).meta.description,title:D(S).meta.title},{append:t(()=>[l(z,{onClick:e[2]||(e[2]=i=>r.value=!0),color:"info",size:"35",icon:"mdi-pencil-outline"})]),prepend:t(()=>[l(o,{ref_key:"itemForm",ref:_,onRunItems:g},null,512)]),_:1},8,["subtitle","title"]),l(L,{class:"text-center",modelValue:r.value,"onUpdate:modelValue":e[6]||(e[6]=i=>r.value=i),"max-width":"900"},{default:t(()=>[l(C,{cols:"12",class:"elevation-5"},{default:t(()=>[ue,l(b,null,{default:t(()=>[l($,{style:{width:"fit-content"},class:"ma-auto",color:"info",modelValue:u.value.hero.enabled,"onUpdate:modelValue":e[3]||(e[3]=i=>u.value.hero.enabled=i),label:"تفعيل في الصفحة الرئيسية"},null,8,["modelValue"]),ie]),_:1}),l(b,null,{default:t(()=>[l($,{style:{width:"fit-content"},class:"ma-auto",color:"info",modelValue:u.value.aside.enabled,"onUpdate:modelValue":e[4]||(e[4]=i=>u.value.aside.enabled=i),label:"تفعيل في القائمة الجانبية"},null,8,["modelValue"]),re]),_:1}),l(b,null,{default:t(()=>[l($,{style:{width:"fit-content"},class:"ma-auto",color:"info",modelValue:u.value.about.enabled,"onUpdate:modelValue":e[5]||(e[5]=i=>u.value.about.enabled=i),label:"تفعيل في صفحة عني"},null,8,["modelValue"]),de]),_:1}),n("div",me,[l(V,{style:{color:"white","background-color":"red","font-weight":"bold"},class:"ma-4",onClick:x},{default:t(()=>[w("اغلاق")]),_:1}),l(V,{style:{color:"white","background-color":"blue","font-weight":"bold"},class:"ma-4",onClick:F},{default:t(()=>[w("موافق")]),_:1})])]),_:1})]),_:1},8,["modelValue"]),f.value.length>0?(k(),B(te,{key:0,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:t(()=>[ce,n("tbody",null,[(k(!0),O(Y,null,K(f.value,(i,q)=>(k(),O("tr",{key:i.id},[n("td",null,y(q+1),1),n("td",null,y(i.name.ar),1),n("td",null,y(i.name.en),1),n("td",null,y(i.url),1),n("td",null,y(i.created_at),1),n("td",pe,[l(V,{onClick:H=>U(i),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),l(V,{onClick:H=>A(i),icon:"mdi-square-edit-outline",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):(k(),O("p",fe,"لا توجد اي بيانات"))]),_:1})}}};export{Ae as default};
