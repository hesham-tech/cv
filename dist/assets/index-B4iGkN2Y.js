import{_ as M}from"./ShowImages-DKIio2Jt.js";import{_ as j}from"./imageInput-BrSUNGmK.js";import{n as D,s as H,f as K,a as P}from"./apiService-CZ-wSF5A.js";import{D as G,E as A,r as i,H as C,J as T,c as l,K as o,L as O,N as a,M as s,O as J,C as Q,x as W,P as R,V as B,R as X,F as Y}from"./index-BJpE3kbW.js";import{V as Z,q as z,s as I}from"./VGrid-TC4GR9IH.js";import{V as ee}from"./VForm-BDj5ARjf.js";import{a as le,V as d}from"./VRow-Bj3JPlJ0.js";import{V as r}from"./VTextField-DOljvp2c.js";import{V as te}from"./VCheckbox-Btw7W0T9.js";import{a as L}from"./VDialog-0qiWlNnz.js";import{_ as ae}from"./ThemeSettings-CB5Nh8vY.js";import{_ as ne}from"./Breadcrumbs-B0GMhcaR.js";import{V as oe}from"./VTable-GK40EMjv.js";import{V as ue}from"./VContainer-XAdDcy6U.js";import"./VInput-C-DQ_oGG.js";import"./VChip-WVtnRdx6.js";import"./VCheckboxBtn-BU04RKWz.js";import"./VSelectionControl-BptT3_7M.js";import"./VColorPicker-LYa8euCb.js";import"./VSwitch-ComJYlaU.js";const se={class:"ma-5"},de={__name:"ExperienceForm",emits:["runItems"],setup(q,{expose:F,emit:U}){const{xs:k}=G(),N=A(),h=U,b=i(!1),u=i({}),v=i({}),p=i({}),V=i({}),c=i({}),_=i({}),y=i({}),x=i({}),m=i({});function f(){v.value={ar:"",en:""},p.value={ar:"",en:""},V.value={ar:"",en:""},c.value={ar:"",en:""},_.value={ar:"",en:""},y.value={ar:"",en:""},x.value={ar:"",en:""},m.value={ar:"",en:""},u.value={start_date:"",end_date:"",is_current:!1,id:null},b.value=!1,u.value.id&&h("runItems")}function $(t){const e=new FormData;e.append("title",JSON.stringify(v.value)),e.append("company",JSON.stringify(p.value)),e.append("description",JSON.stringify(V.value)),e.append("responsibilities",JSON.stringify(c.value)),e.append("achievements",JSON.stringify(_.value)),e.append("employment_type",JSON.stringify(y.value)),e.append("industry",JSON.stringify(x.value)),e.append("location",JSON.stringify(m.value)),e.append("user_id",N.user.id),e.append("is_current",u.value.is_current?1:0),e.append("end_date",u.value.end_date||""),e.append("start_date",u.value.start_date),t.length&&t.forEach(g=>{e.append("photos[]",g,g.name)}),u.value.id&&e.append("_method","put"),H("experiences",e,u.value.id).then(g=>{u.value=g.data,h("runItems"),f()})}const S=i(null),E=()=>{if(!v.value.ar&&!v.value.en){D("حقل العنوان مطلوب عربي او انجليزي");return}if(!p.value.ar&&!p.value.en){D("حقل الشركة مطلوب عربي او انجليزي");return}if(!u.value.start_date){D("حقل تاريخ البدء مطلوب ");return}if(!u.value.end_date&&!u.value.is_current){D("ادخل تاريخ الانتهاء او اختر حتي الان ");return}S.value&&S.value.compressImages().then(t=>{$(t)})},w=(t={})=>{Object.keys(t).length!==0&&(v.value=t.title,p.value=t.company,V.value=t.description,c.value=t.responsibilities,_.value=t.achievements,y.value=t.employment_type,x.value=t.industry,m.value=t.location,u.value=t,t.end_date.en==="1"||t.end_date.en==="0"?(u.value.is_current=t.end_date.en==="1",u.value.end_date=""):u.value.end_date=t.end_date.en),b.value=!0};return F({addNew:w}),(t,e)=>{const g=j;return C(),T("div",null,[l(Z,{onClick:e[0]||(e[0]=n=>w()),color:"info",size:"35",icon:"mdi-plus-outline"}),l(L,{class:"text-center",modelValue:b.value,"onUpdate:modelValue":e[20]||(e[20]=n=>b.value=n),"max-width":"900",fullscreen:J(k)},{default:o(()=>[l(z,{class:"pa-5"},{actions:o(()=>[l(I,{onClick:f},{default:o(()=>[O(" اغلاق ")]),_:1}),l(I,{onClick:E},{default:o(()=>[O(" موافق ")]),_:1})]),default:o(()=>[a("h2",se,s(u.value.id?"تعديل ":" اضافة "),1),l(ee,null,{default:o(()=>[l(le,null,{default:o(()=>[l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:v.value.ar,"onUpdate:modelValue":e[1]||(e[1]=n=>v.value.ar=n),label:"عنوان الوظيفة"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:v.value.en,"onUpdate:modelValue":e[2]||(e[2]=n=>v.value.en=n),label:"  Job Title"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:p.value.ar,"onUpdate:modelValue":e[3]||(e[3]=n=>p.value.ar=n),label:"الشركة"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:p.value.en,"onUpdate:modelValue":e[4]||(e[4]=n=>p.value.en=n),label:"Company"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:V.value.ar,"onUpdate:modelValue":e[5]||(e[5]=n=>V.value.ar=n),label:"الوصف"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:V.value.en,"onUpdate:modelValue":e[6]||(e[6]=n=>V.value.en=n),label:"Description"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:c.value.ar,"onUpdate:modelValue":e[7]||(e[7]=n=>c.value.ar=n),label:"المسؤوليات"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:c.value.en,"onUpdate:modelValue":e[8]||(e[8]=n=>c.value.en=n),label:"Responsibilities"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:_.value.ar,"onUpdate:modelValue":e[9]||(e[9]=n=>_.value.ar=n),label:"الإنجازات"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:_.value.en,"onUpdate:modelValue":e[10]||(e[10]=n=>_.value.en=n),label:"Achievements"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:y.value.ar,"onUpdate:modelValue":e[11]||(e[11]=n=>y.value.ar=n),label:"نوع الوظيفه"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:y.value.en,"onUpdate:modelValue":e[12]||(e[12]=n=>y.value.en=n),label:"Employment Type"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:x.value.ar,"onUpdate:modelValue":e[13]||(e[13]=n=>x.value.ar=n),label:"المجال"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:x.value.en,"onUpdate:modelValue":e[14]||(e[14]=n=>x.value.en=n),label:"Industry"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:m.value.ar,"onUpdate:modelValue":e[15]||(e[15]=n=>m.value.ar=n),label:"الموقع"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{modelValue:m.value.en,"onUpdate:modelValue":e[16]||(e[16]=n=>m.value.en=n),label:"Location"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{type:"date",modelValue:u.value.start_date,"onUpdate:modelValue":e[17]||(e[17]=n=>u.value.start_date=n),label:"تاريخ البدء"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(te,{modelValue:u.value.is_current,"onUpdate:modelValue":e[18]||(e[18]=n=>u.value.is_current=n),label:"حتي الان"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"6"},{default:o(()=>[l(r,{type:"date",modelValue:u.value.end_date,"onUpdate:modelValue":e[19]||(e[19]=n=>u.value.end_date=n),label:"تاريخ الانتهاء"},null,8,["modelValue"])]),_:1}),l(g,{ref_key:"imageInputRef",ref:S},null,512)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"])])}}},re=a("h2",{class:"ma-5"},"هل تريد حذف العنصر بالفعل",-1),ie=a("thead",null,[a("tr",null,[a("th",{class:"text-center"},"#"),a("th",{class:"text-center"},"العنوان"),a("th",{class:"text-center"},"title"),a("th",{class:"text-center"},"الشركة"),a("th",{class:"text-center"},"Company"),a("th",{class:"text-center"},"الوصف"),a("th",{class:"text-center"},"Description"),a("th",{class:"text-center"},"المسؤوليات"),a("th",{class:"text-center"},"responsibilities"),a("th",{class:"text-center"},"الإنجازات"),a("th",{class:"text-center"},"achievements"),a("th",{class:"text-center"},"نوع الوظيفه"),a("th",{class:"text-center"},"employmenttype"),a("th",{class:"text-center"},"المجال"),a("th",{class:"text-center"},"industry"),a("th",{class:"text-center"},"الموقع"),a("th",{class:"text-center"},"location"),a("th",{class:"text-center"},"تاريخ البدء"),a("th",{class:"text-center"},"تاريخ الانتهاء"),a("th",{class:"text-center"},"End Date"),a("th",{class:"text-center"},"تاريخ الانشاء"),a("th",{class:"text-center sticky-column"},". . .")])],-1),me={class:"sticky-column"},pe={key:1,class:"text-alert"},Je={__name:"index",setup(q){const F=Q(),U=A(),k=i(!1),N=i(null),h=i([]),b=i(""),u=i(null);function v(){u.value?u.value.opendialogThemeForm():console.error("opendialogThemeForm is not a function")}const p=i(null),V=m=>{p.value.opaenDialog(m)};W(()=>{c()});function c(){U.loadengApi=!0,K("experiences").then(m=>{h.value=m.data,b.value=""})}function _(m){k.value=!0,b.value=m}function y(){U.loadengApi=!0,P("experiences/delete",{id:[b.value.id]}).then(()=>{c(),k.value=!1})}const x=m=>{var f;(f=N.value)==null||f.addNew(m)};return(m,f)=>{const $=ne,S=ae,E=de,w=M;return C(),R(ue,null,{default:o(()=>[l($),l(L,{class:"text-center",modelValue:k.value,"onUpdate:modelValue":f[1]||(f[1]=t=>k.value=t),"max-width":"400",persistent:""},{default:o(()=>[l(z,{class:"pa-5"},{default:o(()=>[re,l(I,{class:"ma-1",onClick:y},{default:o(()=>[O(" موافق ")]),_:1}),l(I,{class:"ma-1",onClick:f[0]||(f[0]=t=>k.value=!1)},{default:o(()=>[O(" اغلاق ")]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(z,{"max-width":"500px",class:"text-center my-5 mx-auto",subtitle:J(F).meta.description,title:J(F).meta.title},{append:o(()=>[J(U).user?(C(),R(S,{key:0,ref_key:"dialogThemeForm",ref:u,detTheme:{nameEn:"experiences",nameAr:"الخبرات"},onClick:v},null,512)):B("",!0)]),prepend:o(()=>[l(E,{ref_key:"itemForm",ref:N,onRunItems:c},null,512)]),_:1},8,["subtitle","title"]),l(w,{ref_key:"isShowImage",ref:p,onRunItems:c},null,512),h.value.length>0?(C(),R(oe,{key:0,style:{"white-space":"nowrap"},dir:"rtl",class:"h"},{default:o(()=>[ie,a("tbody",null,[(C(!0),T(Y,null,X(h.value,(t,e)=>(C(),T("tr",{key:t.id},[a("td",null,s(e+1),1),a("td",null,s(t.title.ar),1),a("td",null,s(t.title.en),1),a("td",null,s(t.company.ar),1),a("td",null,s(t.company.en),1),a("td",null,s(t.description.ar),1),a("td",null,s(t.description.en),1),a("td",null,s(t.responsibilities.ar),1),a("td",null,s(t.responsibilities.en),1),a("td",null,s(t.achievements.ar),1),a("td",null,s(t.achievements.en),1),a("td",null,s(t.employment_type.ar),1),a("td",null,s(t.employment_type.en),1),a("td",null,s(t.industry.ar),1),a("td",null,s(t.industry.en),1),a("td",null,s(t.location.ar),1),a("td",null,s(t.location.en),1),a("td",null,s(t.start_date),1),a("td",null,s(t.end_date.ar=="1"?"حتي الان":t.end_date.ar),1),a("td",null,s(t.end_date.en=="1"?"so far":t.end_date.en),1),a("td",null,s(t.created_at),1),a("td",me,[l(I,{onClick:g=>V(t.photos),icon:"mdi-image-edit-outline",color:"info",size:"small"},null,8,["onClick"]),l(I,{onClick:g=>_(t),class:"mx-3",icon:"mdi-delete",color:"red",size:"small"},null,8,["onClick"]),l(I,{onClick:g=>x(t),icon:"mdi-square-edit-outline",color:"info",size:"small"},null,8,["onClick"])])]))),128))])]),_:1})):B("",!0),h.value.length?B("",!0):(C(),T("p",pe,"لا توجد اي بيانات"))]),_:1})}}};export{Je as default};
